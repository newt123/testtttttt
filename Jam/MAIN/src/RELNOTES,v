head     1.77;
access   ;
symbols  ;
locks    ;comment  @@;


1.77
date     2005.01.27.09.35.42;  author p4;  state Exp;
branches ;
next     1.76;

1.76
date     2005.01.27.09.35.41;  author p4;  state Exp;
branches ;
next     1.74;

1.74
date     2005.01.27.09.35.40;  author p4;  state Exp;
branches ;
next     1.73;

1.73
date     2005.01.27.09.35.39;  author p4;  state Exp;
branches ;
next     1.72;

1.72
date     2005.01.27.09.35.39;  author p4;  state Exp;
branches ;
next     1.71;

1.71
date     2005.01.27.09.35.38;  author p4;  state Exp;
branches ;
next     1.70;

1.70
date     2005.01.27.09.35.38;  author p4;  state Exp;
branches ;
next     1.69;

1.69
date     2005.01.27.09.35.38;  author p4;  state Exp;
branches ;
next     1.68;

1.68
date     2005.01.27.09.35.36;  author p4;  state Exp;
branches ;
next     1.67;

1.67
date     2005.01.27.09.35.36;  author p4;  state Exp;
branches ;
next     1.66;

1.66
date     2005.01.27.09.35.35;  author p4;  state Exp;
branches ;
next     1.65;

1.65
date     2005.01.27.09.35.35;  author p4;  state Exp;
branches ;
next     1.64;

1.64
date     2005.01.27.09.35.34;  author p4;  state Exp;
branches ;
next     1.63;

1.63
date     2005.01.27.09.35.34;  author p4;  state Exp;
branches ;
next     1.62;

1.62
date     2005.01.27.09.35.34;  author p4;  state Exp;
branches ;
next     1.61;

1.61
date     2005.01.27.09.35.33;  author p4;  state Exp;
branches ;
next     1.60;

1.60
date     2005.01.27.09.35.33;  author p4;  state Exp;
branches ;
next     1.59;

1.59
date     2005.01.27.09.35.33;  author p4;  state Exp;
branches ;
next     1.58;

1.58
date     2005.01.27.09.35.32;  author p4;  state Exp;
branches ;
next     1.57;

1.57
date     2005.01.27.09.35.32;  author p4;  state Exp;
branches ;
next     1.56;

1.56
date     2005.01.27.09.35.32;  author p4;  state Exp;
branches ;
next     1.55;

1.55
date     2005.01.27.09.35.32;  author p4;  state Exp;
branches ;
next     1.54;

1.54
date     2005.01.27.09.35.31;  author p4;  state Exp;
branches ;
next     1.53;

1.53
date     2005.01.27.09.35.31;  author p4;  state Exp;
branches ;
next     1.52;

1.52
date     2005.01.27.09.35.30;  author p4;  state Exp;
branches ;
next     1.51;

1.51
date     2005.01.27.09.35.30;  author p4;  state Exp;
branches ;
next     1.50;

1.50
date     2005.01.27.09.35.28;  author p4;  state Exp;
branches ;
next     1.49;

1.49
date     2005.01.27.09.35.28;  author p4;  state Exp;
branches ;
next     1.48;

1.48
date     2005.01.27.09.35.28;  author p4;  state Exp;
branches ;
next     1.47;

1.47
date     2005.01.27.09.35.28;  author p4;  state Exp;
branches ;
next     1.46;

1.46
date     2005.01.27.09.35.27;  author p4;  state Exp;
branches ;
next     1.45;

1.45
date     2005.01.27.09.35.27;  author p4;  state Exp;
branches ;
next     1.44;

1.44
date     2005.01.27.09.35.27;  author p4;  state Exp;
branches ;
next     1.43;

1.43
date     2005.01.27.09.35.26;  author p4;  state Exp;
branches ;
next     1.42;

1.42
date     2005.01.27.09.35.26;  author p4;  state Exp;
branches ;
next     1.41;

1.41
date     2005.01.27.09.35.26;  author p4;  state Exp;
branches ;
next     1.40;

1.40
date     2005.01.27.09.35.25;  author p4;  state Exp;
branches ;
next     1.39;

1.39
date     2005.01.27.09.35.25;  author p4;  state Exp;
branches ;
next     1.38;

1.38
date     2005.01.27.09.35.25;  author p4;  state Exp;
branches ;
next     1.37;

1.37
date     2005.01.27.09.35.24;  author p4;  state Exp;
branches ;
next     1.36;

1.36
date     2005.01.27.09.35.24;  author p4;  state Exp;
branches ;
next     1.35;

1.35
date     2005.01.27.09.35.24;  author p4;  state Exp;
branches ;
next     1.34;

1.34
date     2005.01.27.09.35.23;  author p4;  state Exp;
branches ;
next     1.33;

1.33
date     2005.01.27.09.35.23;  author p4;  state Exp;
branches ;
next     1.32;

1.32
date     2005.01.27.09.35.23;  author p4;  state Exp;
branches ;
next     1.31;

1.31
date     2005.01.27.09.35.23;  author p4;  state Exp;
branches ;
next     1.30;

1.30
date     2005.01.27.09.35.23;  author p4;  state Exp;
branches ;
next     1.29;

1.29
date     2005.01.27.09.35.23;  author p4;  state Exp;
branches ;
next     1.28;

1.28
date     2005.01.27.09.35.23;  author p4;  state Exp;
branches ;
next     1.27;

1.27
date     2005.01.27.09.35.23;  author p4;  state Exp;
branches ;
next     1.26;

1.26
date     2005.01.27.09.35.23;  author p4;  state Exp;
branches ;
next     1.25;

1.25
date     2005.01.27.09.35.23;  author p4;  state Exp;
branches ;
next     1.24;

1.24
date     2005.01.27.09.35.23;  author p4;  state Exp;
branches ;
next     1.23;

1.23
date     2005.01.27.09.35.23;  author p4;  state Exp;
branches ;
next     1.22;

1.22
date     2005.01.27.09.35.23;  author p4;  state Exp;
branches ;
next     1.21;

1.21
date     2005.01.27.09.35.22;  author p4;  state Exp;
branches ;
next     1.20;

1.20
date     2005.01.27.09.35.22;  author p4;  state Exp;
branches ;
next     1.19;

1.19
date     2005.01.27.09.35.22;  author p4;  state Exp;
branches ;
next     1.18;

1.18
date     2005.01.27.09.35.22;  author p4;  state Exp;
branches ;
next     1.17;

1.17
date     2005.01.27.09.35.22;  author p4;  state Exp;
branches ;
next     1.16;

1.16
date     2005.01.27.09.35.22;  author p4;  state Exp;
branches ;
next     1.15;

1.15
date     2005.01.27.09.35.22;  author p4;  state Exp;
branches ;
next     1.14;

1.14
date     2005.01.27.09.35.22;  author p4;  state Exp;
branches ;
next     1.13;

1.13
date     2005.01.27.09.35.22;  author p4;  state Exp;
branches ;
next     1.12;

1.12
date     2005.01.27.09.35.22;  author p4;  state Exp;
branches ;
next     1.11;

1.11
date     2005.01.27.09.35.21;  author p4;  state Exp;
branches ;
next     1.10;

1.10
date     2005.01.27.09.35.21;  author p4;  state Exp;
branches ;
next     1.9;

1.9
date     2005.01.27.09.35.21;  author p4;  state Exp;
branches ;
next     1.8;

1.8
date     2005.01.27.09.35.20;  author p4;  state Exp;
branches ;
next     1.7;

1.7
date     2005.01.27.09.35.20;  author p4;  state Exp;
branches ;
next     1.6;

1.6
date     2005.01.27.09.35.19;  author p4;  state Exp;
branches ;
next     1.5;

1.5
date     2005.01.27.09.35.19;  author p4;  state Exp;
branches ;
next     1.4;

1.4
date     2005.01.27.09.35.19;  author p4;  state Exp;
branches ;
next     1.3;

1.3
date     2005.01.27.09.35.19;  author p4;  state Exp;
branches ;
next     1.2;

1.2
date     2005.01.27.09.35.19;  author p4;  state Exp;
branches ;
next     1.1;

1.1
date     2005.01.27.09.35.19;  author p4;  state Exp;
branches ;
next     ;


desc
@@


1.77
log
@@
text
@Release notes for Jam/MR 2.2 
(formerly Jam - make(1) redux)


1.  Release info:

	Jam/MR 2.2
	October 22, 1997
	VERSION 2.2
	PATCHLEVEL 1

1.1 Bug fixes since 2.2 patchlevel 0

	The NT handle leak in execunix.c has been fixed, thanks to
	Gurusamy Sarathy.  (Patchlevel 1).

2. Compatibility

	Jam/MR 2.2 is a roll-up of 'Jam - make(1) redux' release 2.1+.
	Most of the changes described below were available before this,
	in the jam.2.1.plus.tar ball.

	The Jam/MR 2.2 language is a superset of the 2.1 language;
	Jamfiles, Jambase, and other rulesets used in 2.1 can be used
	with the 2.2 language support.

	See 'Jambase Changes', below, to see if your Jamfiles need any
	changes to work with the 2.2 Jambase.


3. Changes Since 2.1

	New product name: Jam/MR. (Executable program is still named 'jam'.)

	Documentation rewritten; HTML versions supplied.


3.1 Changes to Jam/MR Language (See Jamlang.html)

	Rules may now have more fields than just $(<) and $(>).

	Local variables are now supported.

	The expression 'if $(A) in $(B)' is now supported.

	New variable modifiers :U and :L result in uppercased or lowercased
	values.

	New variable modifier :P reliably results in parent directory
	of either a file or directory. (Previously, :D was used, but on VMS
	:D of a directory name is just the directory name.)

	The :S variable modifier now results in the _last_ suffix if a 
	filename has more than one dot (.) in it.

	New predefined $(JAMDATE) variable is initialized at runtime for 
	simple date stamping.

	New predefined variables $(OSVER) and $(OSPLAT) are used to 
	distinguish among operating system versions and hardware platforms,
	when possible.

	New 'bind' qualifier on action definitions allows variables
	other than $(<) and $(>) to be bound with SEARCH and LOCATE paths.

	Action buffer size is no longer limited by MAXCMD. Instead, each 
	line in an action is limited by MAXLINE, defined for each OS, and 
	the entire action size is limited by CMDBUF.


3.2 Jambase Changes (See Jamfile.html)

	Jambase has been reworked to incorporate new language features.

	A handful of new utility rules has been added: makeString,
	makeDirName, etc.

	New HDRGRIST variable in Jambase allows for headers with the same
	name to be distinguished.

	LOCATE_TARGET now has a new flavor, LOCATE_SOURCE, that is used by
	rules that generate source files (e.g., Yacc and Lex).

	Header file includes now happen in the proper order. The limit of
	10 include files has been eliminated.

	The old "Install" rule is no longer available.  Use InstallBin, 
	InstallFile, InstallLib, InstallMan, or InstallShell instead.


3.3 'jam' Changes (See Jam.html)

	'jam' can now be built as a stand-alone program, with Jambase 
	compiled into the executable. An external or alternate Jambase can 
	still be referenced explicitly with -f.

	On command failure, 'jam' now emits the text of the command that 
	failed.  This is a compromise between the normal -d1 behavior (where 
	commands were never seen) and -d2 (where commands are always seen).

	'jam' now exits non-zero if it doesn't have a total success.  A parse
	error, sources that can't be found, and targets that can't be built
	all generate non-zero exit status.
	
	The debugging levels (-d flags) have been slightly redefined.

	The supplied Jamfile now builds 'jam' into a platform specific 
	subdirectory. This lets you use the same source directory to
	build 'jam' for more than one platform.

	The supplied Jamfile does not rebuild generated source files by 
	default. (They are supplied with the distribution.) See Jamfile
	for more information.


4.  Fixed Bugs

	The 'include' bug has finally been fixed, so that include
	statements take effect exactly when they are executed,
	rather than after the current statement block.  This also
	corrects the problem where an 'include' within an 'if'
	block would wind up including the file one token after the
	'if' block's closing brace.  Credit goes to Thomas Woods
	for suggesting that the parse tree generation and parse
	tree execution be paired in their own loop, rather than
	having the parser execute the tree directly.

	The setting and extracting of grist has been regularized:
	normally, if you set a component of a filename (using the
	:DBSMG= modifiers), you are supposed to include the delimiters
	that set off the component:  that is, you say "$(x:S=.suffix)",
	including the ".".  But with grist it was inconsistent
	between setting and getting: setting grist required no
	<>'s, while getting grist included them.   Getting grist
	continues to return the <>'s, but now setting grist can
	either include them (the new way) or not (the old way).

	'actions together' now suppresses duplicate sources from
	showing up in $(>).

	Accessing variables whose names contained ['s (as happens with
	MkDir on VMS) wasn't working, because it treated the [ as an
	array subscript. Now [ and ] are, like :, handled specially so 
	that they can appear in variable values.

	The 'if' statement now compares all elements in expressions;
	previously, it only compared the first element of each list.

	If a command line in an action is longer than MAXLINE (formerly
	MAXCMD), 'jam' now issues an error and exits rather than dumping 
	core.

	If a Jamfile ended without a trailing newline, jam dumped core.
	This has been fixed.


5.  Porting

	See jam.h for the definitive list of supported platforms.
	Since 2.1, support has been added for:

	    Macintosh MPW
	    Alpha VMS
	    Alpha NT
	    NT PowerPC
	    BeOS
	    MVS OE
	    UNIXWARE
	    QNX
	    SINIX (Nixdorf)
	    OS/2
	    Interactive UNIX (ISC), courtesy of Matthew Newhook


5.1 NT Support Fixes

	The NT command executor now handles multiple line actions, by writing
	multi-line actions to a batch file and executing that.
	
	Targets are universally lowercased on NT. (Matthew Newhook)

	Concurrent process support is fully enabled for NT.
	(Gurusamy Sarathy <gsar@@engin.umich.edu>)
	
	Path handling: Jam/MR now knows that the directory component of "D:\"
	is "D:\", just as on unix it knows that the directory component of
	"/" is "/".  It also now successfully gets the timestamp for "D:\"
	or just plain "\".


5.2 VMS Support Fixes

	VMS support is much, much better now.  The path name manipulation
	routines (in pathvms.c) were more or less rewritten, and they now
	handle the vagaries of combining directory and file names properly.

	Targets are universally lowercased on VMS.

	Multi-line command blocks on VMS are now executed in a single system()
	call rather than separate ones for each line, so that actions can
	be DCL scripts.


Release notes for Jam 2.1.

1.  Release info:
	Jam 2.1
	February 1, 1996
	VERSION 2.1
	PATCHLEVEL 0

2.  Porting

	Linux is now supported.

	FREEBSD is now supported.

	SCO ("M_XENIX") now supported.

	NCR now supported.

	NEXT support from karthy@@dannug.dk (Karsten Thygesen)

	DECC support from zinser@@axp614.gsi.de (Martin P.J. Zinser)

	I have changes for OS/2, but no way to test them.  Volunteers?
	I have VMS multiprocess support, but no way to test it.  Volunteers?

2.1.  NT Support fixes.

	The NT support is considerably more real than it was in 2.0.
	Filent.c had its syntax error corrected, it no longer skips the
	first entry when scanning directories, and it handles string
	tables in archives (for long object file names).

	The Jambase was changed a bit to support the various C/C++
	compilers on NT, although it has only been thorougly tested
	with MSVC20.

	You still need to set MSVCNT or BCCROOT to the root of the 
	the compiler's directory tree, and you'll get an error if you
	don't set it (rather than getting a pile of mysterious errors).

2.2.  Other porting fixes.

	SPLITPATH now set up for UNIX (:), NT (;), VMS (,)

	Jambase support for Solaris works better now: the location of
	AR is hardwired to /usr/ccs/bin/ar and it knowns "install"
	doesn't take -c.  Solaris -- how the mighty have fallen.

	To handle Linux's wacko yacc, jamgram.h is now included after
	scan.h so that YYSTYPE is define.

3.  Jambase Changes (see Jamfile.html)

	SubDir now computes the root directory for the source tree, if
	the variable naming the root directory isn't set in the environment.
	It counts the number of directory elements leading from the root
	to the current directory (as passed to SubDir) and uses that many
	"../"'s to identify the root.  This means that to use SubDir you
	no longer have to have anything special set in the environment.

	InstallFile is now an alias for InstallLib.

	'first' is now dependency of all pseudo-targets (all, files, 
	exe, lib, shell), so that jamming any of these pseudo-targets
	also builds any dependencies of 'first'.

	The File rule definition in the Jambase was missing an &.

	The File rule now calls the Clean rule, so that installed files
	get cleaned.

4.  Jam changes (see Jam.html)

	Variables may now be set on the command line with -svar=value.

	Targets marked with NOUPDATE are now immune to the -a (anyhow) 
	flag.  Previously, the MkDir rule would try to recreate directories
	that already exist when jam was invoked with -a.

	A new variable, $(JAMVERSION), joins the small list of built-in 
	variables.  It it set to the release of jam, currently "2.1".

	If an actions fails, jam now deletes the target(s).  It won't
	delete libraries or other targets that are composites.  This is
	now consistent with jam's behavior on interrupts (it deletes the
	targets).

	Jam had a nasty bug when setting multiple variables to the same
	value:  if the first two variable names were the same, the variable
	value got trashed.  This also affected "on target" variables if
	the first two targets were the same.  For example:

		FOO on bar.c bar.c foo.c = a b c ;

	This would mangle the value of FOO for bar.c and foo.c.  This has
	been fixed.

	Jam would generate bogus numbers when reporting the number of
	targets updated after an interrupt.  It now is more careful about
	counting.

	The debugging flag -d has been extended.  In addition to supporting
	-dx (turn on debugging for all levels up to x) there is also now
	-d+x (turn on debugging at only level x).  The default output
	level is -d1 (-or d2 if -n is given); this can be turned off with
	-d0.   The debug levels are listed in jam.1 and jam.h.

	The parsing debug output now uses indenting to indicate when
	one rule invokes another.


Release notes for Jam 2.0.

1.  Release info:
	Jam 2.0 
	March 10, 1994
	VERSION 2.0
	PATCHLEVEL 5

2.  Porting

	Windows/NT is now (crudely) supported, courtesy of Brett Taylor
	and Laura Wingerd.  

	COHERENT/386 is now supported, courtesy of Fred Smith.

	Solaris archive string table for long archive names is now
	supported, thanks to Mike Matrigali.

3.  Compatibility

	Jam 2.0 syntax is a superset of Jam 1.0 syntax, and thus it can
	interpret a Jam 1.0 Jambase.

	The Jam 2.0 Jambase is a superset of the Jam 1.0 Jambase, and
	thus it can include a Jamfile written for Jam 1.0.

4.  Changes from Jam 1.0 to Jam 2.0

4.1.  Documentation changes

	New Jamfile.5 manual page, with lots of examples and easy
	reading.  It replaces both the old "Examples" file as well as
	the old Jambase.5 manual page.

	jam.1 edited by Stephen W. Liddle and Diane Holt.

4.2.  Jambase Changes (see Jamfile.5)

4.2.1.  New rules:

	There are new rules to make handling subdirectories easier:
	SubDir, SubInclude, SubDirCcFlags, SubDirHdrs.

	There are new rules to handle file-specific CCFLAGS and HDRS:
	ObjectCcFlags and ObjectHdrs.

	Misc new rules: HardLink, InstallShell, MkDir.

	New rule "clean" that deletes exactly what jam has built, and
	"uninstall" that deletes exactly what was installed.

	New rules for handling suffixes .s, .f, .cc, .cpp, .C.

4.2.2.  Old rules:

	The InstallBin, Lib, Man, and the new Shell rules now take the
	destination directory as the target and the files to be copied
	as sources.  These rules formerly took the files to be copied
	as targets, and used built-in destination directories of
	$(BINDIR), $(LIBDIR), $(MANDIR), and $(BINDIR).

	The InstallBin, Lib, Man, and Shell rules use the install(1)
	program now, instead of doing their own copying.

	The Cc rule now uses -o when possible, rather than moving the
	result.  Some platforms (Pyramid?) have a broken -o.

	Jambase rules taking libraries, objects, and executables now
	all ignore the suffixes provided and use the one defined in the
	Jambase for the platform.

	Stupid yyacc support moved out of Jambase, as jam is its only
	likely user.

	Jambase now purturbs library sources with a "grist" of
	SOURCE_GRIST.

4.2.3.  Misc:

	The names of the default rules defined in Jambase have been
	lowercased and un-abbreviated, to be more imake(1) like.

	The Jambase has been reorganized and sorted, with VMS and NT
	support moved in from their own files.

	The Jambase has been relocated on UNIX from /usr/local/lib/jam
	to /usr/local/lib.

4.3.  Jam changes (see jam.1)

4.3.1.   Flags:

	New -a (anyhow) flag: means build everything.

	New -j<x> flag: run jobs in parallel.

	Old -t now rebuilds the touched target, rather that just the
	target's parents.

	-n now implies -d2, so that you see what's happening.  The
	debug level can be subsequently overridden.

	New -v to dump version.

4.3.2.  Rules:

	New ALWAYS rule behaves like -t: always builds target.

	New EXIT rule makes it possible to raise a fatal error.

	New LEAVES rule which say target depends only on the update
	times of the leaf sources.

	New NOUPDATE rule says built targets only if they don't exist.

	NOTIME has been renamed NOTFILE, to more accurately reflect its
	meaning (it says a target is not to be bound to a file).

4.3.3.  Variables:

	New special variable JAMSHELL: argv template for command execution 
	shell.

	Variables, both normal and target-specific, can have their
	value appended with the syntax "var += value" or "var on target
	+= value".

	"?=" is now synonymous with "default =".

	Imported enviroment variable values are now split at blanks
	(:'s if the variable name ends in PATH), so that they become
	proper list values.

4.3.4.  Misc:

	Files to be sourced with "include" are now bound first, so
	$(SEARCH) and $(LOCATE) affect them.  They still can't be
	built, though.

	New modifier on "actions": "existing" causes $(>) to expand
	only those files that currently exist.

4.3.5.  Bug fixes:

	When scanning tokens known to be argument lists (such as the
	arguments to rule invocations and variable assignment), the
	parser now tells the scanner to ignore alphabetic keywords, as
	all such lists terminate with punctuation keywords (like : or
	;).  This way, alphabetic keywords don't need to be quoted when
	they appear as arguments.

	The scanner has been fixed to handle oversized tokens,
	unterminated quotes, unterminated action blocks, and tokens
	abutting EOF (i.e. a token with no white space before EOF).

	The progress report "...on xth target..." used to count all
	targets, rather than just those with updating actions.  Since
	the original pronouncement of targets to be udpated included
	only those with updating actions, the progress report has been
	changed to match.

	'If' conditionals now must be single arguments.  Previously,
	they could be zero or more arguments, which didn't make much
	sense, and made things like 'foo == bar' true.  The comparison
	operator is '=', and '==' just looked like the second of three
	arguments in the unary "non-empty argument list" conditional.

	Header files indirectly including themselves were mistakenly
	reported as being dependent on themselves.  Recursing through
	header file dependencies is now done after determining the fate
	of the target.

	The variable expansion support was expanding $(X)$(UNDEF) as if
	it were $(X).  It now expands to an empty list, like it
	should.

	The UNIX version of file_build() didn't handle "dir/.suffix"
	right.  Now it does.

	The VMS command buffer was assumed to be as large as 1024 bytes,
	which isn't the case everywhere as it is related to some weird
	quota.  It has been lowered to 256.

	$(>) and $(<) wouldn't expand in action blocks if the targets
	were marked with NOTIME.  Now they expand properly.

	Malloc() return values are now checked.

	The variable expansion routine var_expand() is now a little
	faster, by taking a few often needed shortcuts.

	The VMS version of file_build() used the wrong length when
	re-rooting file names that already had directory compoents.
	This was fixed.

	Various tracing adjustments were made.

5.  Limitations/Known Bugs

	The new Windows/NT support has only been marginally tested.  It
	is dependent on certain variables being set depending on which
	compiler you are using.  You'll need to look in the file
	Jambase and see what variables are expected to be set.

	The VMS support has been tested, courtesy of the DEC guest
	machine, but has not been hammered fully in release 2.0.  It
	was used quite a bit in Jam 1.0.

	Jam clean when there is nothing to clean claims it is updating
	a target.

	Because the include statement works by pushing a new file in
	the input stream of the scanner rather than recursively
	invoking the parser on the new file, multiple include
	statements in a rule's procedure causes the files to be
	included in reverse order.

	If the include statement appears inside an if block, the
	parser's attempt to find the else will cause the text of the
	included file to appear after the first token following the
	statement block.  This is rarely what is intended.

	In a rule's actions, only $(<) and $(>) refer to the bound file
	names:  all other variable references get the unbound names.
	This is a pain for $(NEEDLIBS), because it means that library
	path can't be bound using $(SEARCH) and $(LOCATE).

	With the -j flag, errors from failed commands can get
	staggeringly mixed up.  Also, because targets tend to get built
	in a quickest-first ordering, dependency information must be
	quite exact.  Finally, beware of parallelizing commands that
	drop fixed-named files into the current directory, like yacc(1)
	does.

	A poorly set $(JAMSHELL) is likely to result in silent
	failure.
@


1.76
log
@@
text
@d10 3
a12 1
	PATCHLEVEL 0
d14 2
@


1.74
log
@@
text
@d1 2
a2 1
Changes since 2.1
a3 2
    LOCATE_TARGET now has a new flavor, LOCATE_SOURCE that is used for
    generated source files (by yacc and lex).
d5 1
a5 2
    The 'if' statement now compares all elements in expressions;
    previously, it only compared the first element of each list.
d7 4
a10 2
    Header file includes now happen in the proper order.  The limit
    of 10 include files has been eliminated.
a11 3
    The Jambase is now compiled into jam, and so no longer needs
    installing.  The plain Jambase can still be referenced explicitly 
    with -f.
d13 1
a13 2
    The syntax "if $(A) in $(B)" is now supported.  It is true of all
    elements of $(A) can be found in $(B), _or_ if $(A) is empty.
d15 3
a17 2
    $(FOO:S) now refers to the _last_ suffix if a filename has more than
    one dot (.) in it.
d19 3
a21 2
    Variables local to the current context may be declared at the top
    of a block (just after a {) with "local var ... ;"
d23 2
a24 5
    Rules may be invoked with more than just targets and sources, i.e.
    there may be more than one : in a rule invocation.  These parameters 
    are called $(1), $(2), $(3), etc, and $(<) and $(>) are synonymous 
    with $(1) and $(2).  Actions can still only take two sets parameters,
    i.e. $(<) and $(>).
a25 3
    On command failure, jam now emits the text of the command that failed.
    This is a compromise between the normal -d1 behavior (where commands
    were never seen) and -d2 (where commands are always seen).
d27 1
a27 2
    The NT command executor now handles multiple line actions, by writing
    multi-line actions to a batch file and executing that.
d29 1
a29 3
    Jam now exits non-zero if it doesn't have a total success.  A parse
    error, sources that can't be found, and targets that can't be built
    all generate non-zero exit status.
d31 1
a31 4
    Variables whose values are targets can be expanded to the bounded target
    names in action blocks.  Previously, only $(<) and $(>) referred to bounded
    targets.  With new syntax "actions Rulename bind var..." the named variables
    will be expanded in the action block.
a32 1
    Jam now by default builds itself into a platform specific subdirectory.
d34 1
a34 3
    Due to internal restructuring of the Jambase, the old "Install" rule
    is no longer available.  Use InstallBin, InstallFile, InstallLib,
    InstallMan, or InstallShell instead.
d36 1
a36 2
    If a command line is longer than MAXCMD (which is OS dependent),
    jam now issues an error and exits rather than dumping core.
d38 1
a38 1
    Interactive UNIX (ISC) supported, thanks to Matthew Newhook.
d40 1
a40 2
    Targets are universally lowercased on NT and VMS.  Great minds think
    alike.  (NT courtesy of Matthew Newhook.)
d42 2
a43 2
    Concurrent process support is fully enabled for NT, courtesy of
    Gurusamy Sarathy <gsar@@engin.umich.edu>.
d45 3
a47 8
    'actions updated' now includes sources in $(>) that are newer than
    their parents in the dependency graph.  Previously, only sources
    that were actually updated in that run were included in the expansion
    of $(>) for 'actions updated'.  If a source was created in a first
    invocation of jam (or manually), then in a second run the new source
    would imply updating the target, but that source wouldn't appear in
    $(>) for 'actions updated'.  Now any source that causes the target
    to be updated shows up in $(>) for 'actions updated'.
d49 2
a50 2
    New HDRGRIST variable in Jambase to allow for headers with the same
    name to be distinguished.
d52 2
a53 2
    New JAMDATE variable initialized to be `ctime()` for simple date
    stamping.
d55 3
a57 4
    The debugging levels were moved a little (again): -d3 now includes binding
    and timestamp information for all targets, so that that single level
    reports the work of make0().  -d4 now just dumps memory statistics.
    The whole story is:
d59 2
a60 9
	-d1 - trace actions
	-d2 - dump actions, trace quiet actions
	-d3 - trace dependency analysis
	-d4 - show shell arguments
	-d5 - trace jamfile compilation
	-d6 - show directory/header file/archive scans
	-d7 - show variable settings
	-d8 - show variable fetches
	-d9 - show variable manipulation, scanner tokens
d62 3
a64 3
    The debugging flag -d has been changed again.  Now any -d turns off the
    default (-d1): -dx turns on all levels up to x; -d+x turns on level x.
    So -d0 turns off everything and -d2 _just_ shows command text.
a65 4
    Fixed a few holes in the path handling on NT: it now knows that the
    directory component of "D:\" is "D:\", just as on unix it knows that
    the directory component of "/" is "/".  It also now successfully gets
    the timestamp for "D:\" or just plain "\".
d67 1
a67 2
    JAMDATE now gets set properly -- due to a misplaced paren (forgive
    my fading C skills) it wasn't being set on NT.  (2.1.14)
d69 1
a69 2
    'actions together' now suppresses duplicate sources from showing up in
    $(>).  (2.1.15)
d71 2
a72 4
    Accessing variables whose names contained ['s (as happens with MkDir
    on VMS) wasn't working, because it treated the [ as an array subscript.
    Now [ and ] are, like :, handled specially so that they can appear in
    variable values.
d74 2
a75 3
    Multi-line command blocks on VMS are now executed in a single system()
    call rather than separate ones for each line.  This allows "dcl scripts"
    to be used.
d77 2
a78 8
    The setting and extracting of grist has been regularized: normally,
    if you set a component of a filename (using the :DBSMG= modifiers),
    you are supposed to include the delimiters that set off the component:
    that is, you say "$(x:S=.suffix)", including the ".".  But with
    grist it was inconsistent between setting and getting: setting grist
    required no <>'s, while getting grist included them.   Getting grist
    continues to return the <>'s, but now setting grist can either
    include them (the new way) or not (the old way).  (2.1.16)
d80 2
a81 2
    New variable modifiers :U and :L upshift and downshift (respectively)
    the value of a variable.
d83 2
a84 2
    New predefined variables $(OSVER) and $(OSPLAT) are used to distinguish
    (when jam can) among operating system versions and hardware platforms.
a85 3
    New variable modifier :P reliably gets to parent directory of either
    a file or directory.  Previously, :D was used, but on VMS :D of a 
    directory name is just the directory name.
d87 1
a87 4
    VMS support is much, much better now.  The path name manipulation
    routines (in pathvms.c) were more or less rewritten, and they now
    handle the vagaries of combining directory and file names
    properly.
d89 44
a132 8
    The 'include' bug has finally been fixed, so that include statements
    take effect exactly when they are executed, rather than after the
    current statement block.  This also corrects the problem where an
    'include' within an 'if' block would wind up including the file
    one token after the 'if' block's closing brace.  Credit goes to
    Thomas Woods for suggesting that the parse tree generation and
    parse tree execution be paired in their own loop, rather than having
    the parser execute the tree directly.  (2.1.21)
d134 66
d251 1
a251 1
3.  Jambase Changes (see Jamfile.5)
d271 1
a271 1
4.  Jam changes (see jam.1)
@


1.73
log
@@
text
@d1 1
a1 67
Release notes for Jam/MR 2.2 
(formerly Jam - make(1) redux)


1.  Release info:

	Jam/MR 2.2
	October 22, 1997
	VERSION 2.2
	PATCHLEVEL 0


2. Compatibility

	Jam/MR 2.2 is a roll-up of 'Jam - make(1) redux' release 2.1+.
	Most of the changes described below were available before this,
	in the jam.2.1.plus.tar ball.

	The Jam/MR 2.2 language is a superset of the 2.1 language;
	Jamfiles, Jambase, and other rulesets used in 2.1 can be used
	with the 2.2 language support.

	See 'Jambase Changes', below, to see if your Jamfiles need any
	changes to work with the 2.2 Jambase.


3. Changes Since 2.1

	New product name: Jam/MR. (Executable program is still named 'jam'.)

	Documentation rewritten; HTML versions supplied.


3.1 Changes to Jam/MR Language (See jamMR.html)

	Rules may now have more fields than just $(<) and $(>).

	Local variables are now supported.

	The expression 'if $(A) in $(B)' is now supported.

	New variable modifiers :U and :L result in uppercased or lowercased
	values.

	New variable modifier :P reliably results in parent directory
	of either a file or directory. (Previously, :D was used, but on VMS
	:D of a directory name is just the directory name.)

	The :S variable modifier now results in the _last_ suffix if a 
	filename has more than one dot (.) in it.

	New predefined $(JAMDATE) variable is initialized at runtime for 
	simple date stamping.

	New predefined variables $(OSVER) and $(OSPLAT) are used to 
	distinguish among operating system versions and hardware platforms,
	when possible.

	New 'bind' qualifier on action definitions allows variables
	other than $(<) and $(>) to be bound with SEARCH and LOCATE paths.

	Action buffer size is no longer limited by MAXCMD. Instead, each 
	line in an action is limited by MAXLINE, defined for each OS, and 
	the entire action size is limited by CMDBUF.


3.2 Jambase Changes (See Jamfile.5.html)
d3 2
a4 1
	Jambase has been reworked to incorporate new language features.
d6 2
a7 2
	A handful of new utility rules has been added: makeString,
	makeDirName, etc.
d9 2
a10 2
	New HDRGRIST variable in Jambase allows for headers with the same
	name to be distinguished.
d12 3
a14 2
	LOCATE_TARGET now has a new flavor, LOCATE_SOURCE, that is used by
	rules that generate source files (e.g., Yacc and Lex).
d16 2
a17 2
	Header file includes now happen in the proper order. The limit of
	10 include files has been eliminated.
d19 2
a20 2
	The old "Install" rule is no longer available.  Use InstallBin, 
	InstallFile, InstallLib, InstallMan, or InstallShell instead.
d22 2
d25 5
a29 1
3.3 'jam' Changes (See jam.1.html)
d31 3
a33 3
	'jam' can now be built as a stand-alone program, with Jambase 
	compiled into the executable. An external or alternate Jambase can 
	still be referenced explicitly with -f.
d35 2
a36 3
	On command failure, 'jam' now emits the text of the command that 
	failed.  This is a compromise between the normal -d1 behavior (where 
	commands were never seen) and -d2 (where commands are always seen).
d38 3
a40 5
	'jam' now exits non-zero if it doesn't have a total success.  A parse
	error, sources that can't be found, and targets that can't be built
	all generate non-zero exit status.
	
	The debugging levels (-d flags) have been slightly redefined.
d42 4
a45 3
	The supplied Jamfile now builds 'jam' into a platform specific 
	subdirectory. This lets you use the same source directory to
	build 'jam' for more than one platform.
d47 1
a47 3
	The supplied Jamfile does not rebuild generated source files by 
	default. (They are supplied with the distribution.) See Jamfile
	for more information.
d49 3
d53 2
a54 1
4.  Fixed Bugs
d56 1
a56 9
	The 'include' bug has finally been fixed, so that include
	statements take effect exactly when they are executed,
	rather than after the current statement block.  This also
	corrects the problem where an 'include' within an 'if'
	block would wind up including the file one token after the
	'if' block's closing brace.  Credit goes to Thomas Woods
	for suggesting that the parse tree generation and parse
	tree execution be paired in their own loop, rather than
	having the parser execute the tree directly.
d58 2
a59 9
	The setting and extracting of grist has been regularized:
	normally, if you set a component of a filename (using the
	:DBSMG= modifiers), you are supposed to include the delimiters
	that set off the component:  that is, you say "$(x:S=.suffix)",
	including the ".".  But with grist it was inconsistent
	between setting and getting: setting grist required no
	<>'s, while getting grist included them.   Getting grist
	continues to return the <>'s, but now setting grist can
	either include them (the new way) or not (the old way).
d61 2
a62 2
	'actions together' now suppresses duplicate sources from
	showing up in $(>).
d64 8
a71 4
	Accessing variables whose names contained ['s (as happens with
	MkDir on VMS) wasn't working, because it treated the [ as an
	array subscript. Now [ and ] are, like :, handled specially so 
	that they can appear in variable values.
d73 2
a74 2
	The 'if' statement now compares all elements in expressions;
	previously, it only compared the first element of each list.
d76 2
a77 3
	If a command line in an action is longer than MAXLINE (formerly
	MAXCMD), 'jam' now issues an error and exits rather than dumping 
	core.
d79 4
d84 9
a92 1
5.  Porting
d94 3
a96 2
	See jam.h for the definitive list of supported platforms.
	Since 2.1, support has been added for:
d98 4
a101 11
	    Macintosh MPW
	    Alpha VMS
	    Alpha NT
	    NT PowerPC
	    BeOS
	    MVS OE
	    UNIXWARE
	    QNX
	    SINIX (Nixdorf)
	    OS/2
	    Interactive UNIX (ISC), courtesy of Matthew Newhook
d103 2
d106 2
a107 1
5.1 NT Support Fixes
d109 4
a112 4
	The NT command executor now handles multiple line actions, by writing
	multi-line actions to a batch file and executing that.
	
	Targets are universally lowercased on NT. (Matthew Newhook)
d114 3
a116 7
	Concurrent process support is fully enabled for NT.
	(Gurusamy Sarathy <gsar@@engin.umich.edu>)
	
	Path handling: Jam/MR now knows that the directory component of "D:\"
	is "D:\", just as on unix it knows that the directory component of
	"/" is "/".  It also now successfully gets the timestamp for "D:\"
	or just plain "\".
d118 8
d127 2
a128 1
5.2 VMS Support Fixes
d130 2
a131 3
	VMS support is much, much better now.  The path name manipulation
	routines (in pathvms.c) were more or less rewritten, and they now
	handle the vagaries of combining directory and file names properly.
d133 3
a135 1
	Targets are universally lowercased on VMS.
d137 4
a140 3
	Multi-line command blocks on VMS are now executed in a single system()
	call rather than separate ones for each line, so that actions can
	be DCL scripts.
d142 8
d202 1
a202 1
3.  Jambase Changes (see Jamfile.5.html)
d222 1
a222 1
4.  Jam changes (see jam.1.html)
@


1.72
log
@@
text
@d38 1
a38 1
	Local variables inside a {} block are now supported.
@


1.71
log
@@
text
@d8 1
a8 1
	October 15, 1997
d31 1
a31 1
	Man pages updated; HTML versions of man pages supplied.
d34 1
a34 1
3.1 Changes to Jam/MR Language (See jam.1)
d67 1
a67 1
3.2 Jambase Changes (See Jamfile.5)
d87 1
a87 1
3.3 'jam' Changes (See jam.1)
d248 1
a248 1
3.  Jambase Changes (see Jamfile.5)
d268 1
a268 1
4.  Jam changes (see jam.1)
@


1.70
log
@@
text
@d1 2
a2 1
Changes since 2.1
a3 2
    LOCATE_TARGET now has a new flavor, LOCATE_SOURCE that is used for
    generated source files (by yacc and lex).
d5 1
a5 2
    The 'if' statement now compares all elements in expressions;
    previously, it only compared the first element of each list.
d7 4
a10 2
    Header file includes now happen in the proper order.  The limit
    of 10 include files has been eliminated.
a11 3
    The Jambase is now compiled into jam, and so no longer needs
    installing.  The plain Jambase can still be referenced explicitly 
    with -f.
d13 1
a13 2
    The syntax "if $(A) in $(B)" is now supported.  It is true of all
    elements of $(A) can be found in $(B), _or_ if $(A) is empty.
d15 3
a17 2
    $(FOO:S) now refers to the _last_ suffix if a filename has more than
    one dot (.) in it.
d19 3
a21 2
    Variables local to the current context may be declared at the top
    of a block (just after a {) with "local var ... ;"
d23 2
a24 5
    Rules may be invoked with more than just targets and sources, i.e.
    there may be more than one : in a rule invocation.  These parameters 
    are called $(1), $(2), $(3), etc, and $(<) and $(>) are synonymous 
    with $(1) and $(2).  Actions can still only take two sets parameters,
    i.e. $(<) and $(>).
a25 3
    On command failure, jam now emits the text of the command that failed.
    This is a compromise between the normal -d1 behavior (where commands
    were never seen) and -d2 (where commands are always seen).
d27 1
a27 2
    The NT command executor now handles multiple line actions, by writing
    multi-line actions to a batch file and executing that.
d29 1
a29 3
    Jam now exits non-zero if it doesn't have a total success.  A parse
    error, sources that can't be found, and targets that can't be built
    all generate non-zero exit status.
d31 1
a31 4
    Variables whose values are targets can be expanded to the bounded target
    names in action blocks.  Previously, only $(<) and $(>) referred to bounded
    targets.  With new syntax "actions Rulename bind var..." the named variables
    will be expanded in the action block.
a32 1
    Jam now by default builds itself into a platform specific subdirectory.
d34 1
a34 3
    Due to internal restructuring of the Jambase, the old "Install" rule
    is no longer available.  Use InstallBin, InstallFile, InstallLib,
    InstallMan, or InstallShell instead.
d36 1
a36 2
    If a command line is longer than MAXCMD (which is OS dependent),
    jam now issues an error and exits rather than dumping core.
d38 1
a38 1
    Interactive UNIX (ISC) supported, thanks to Matthew Newhook.
d40 1
a40 2
    Targets are universally lowercased on NT and VMS.  Great minds think
    alike.  (NT courtesy of Matthew Newhook.)
d42 2
a43 2
    Concurrent process support is fully enabled for NT, courtesy of
    Gurusamy Sarathy <gsar@@engin.umich.edu>.
d45 3
a47 8
    'actions updated' now includes sources in $(>) that are newer than
    their parents in the dependency graph.  Previously, only sources
    that were actually updated in that run were included in the expansion
    of $(>) for 'actions updated'.  If a source was created in a first
    invocation of jam (or manually), then in a second run the new source
    would imply updating the target, but that source wouldn't appear in
    $(>) for 'actions updated'.  Now any source that causes the target
    to be updated shows up in $(>) for 'actions updated'.
d49 2
a50 2
    New HDRGRIST variable in Jambase to allow for headers with the same
    name to be distinguished.
d52 2
a53 2
    New JAMDATE variable initialized to be `ctime()` for simple date
    stamping.
d55 3
a57 4
    The debugging levels were moved a little (again): -d3 now includes binding
    and timestamp information for all targets, so that that single level
    reports the work of make0().  -d4 now just dumps memory statistics.
    The whole story is:
d59 2
a60 9
	-d1 - trace actions
	-d2 - dump actions, trace quiet actions
	-d3 - trace dependency analysis
	-d4 - show shell arguments
	-d5 - trace jamfile compilation
	-d6 - show directory/header file/archive scans
	-d7 - show variable settings
	-d8 - show variable fetches
	-d9 - show variable manipulation, scanner tokens
d62 3
a64 3
    The debugging flag -d has been changed again.  Now any -d turns off the
    default (-d1): -dx turns on all levels up to x; -d+x turns on level x.
    So -d0 turns off everything and -d2 _just_ shows command text.
a65 4
    Fixed a few holes in the path handling on NT: it now knows that the
    directory component of "D:\" is "D:\", just as on unix it knows that
    the directory component of "/" is "/".  It also now successfully gets
    the timestamp for "D:\" or just plain "\".
d67 1
a67 2
    JAMDATE now gets set properly -- due to a misplaced paren (forgive
    my fading C skills) it wasn't being set on NT.  (2.1.14)
d69 1
a69 2
    'actions together' now suppresses duplicate sources from showing up in
    $(>).  (2.1.15)
d71 2
a72 4
    Accessing variables whose names contained ['s (as happens with MkDir
    on VMS) wasn't working, because it treated the [ as an array subscript.
    Now [ and ] are, like :, handled specially so that they can appear in
    variable values.
d74 2
a75 3
    Multi-line command blocks on VMS are now executed in a single system()
    call rather than separate ones for each line.  This allows "dcl scripts"
    to be used.
d77 2
a78 8
    The setting and extracting of grist has been regularized: normally,
    if you set a component of a filename (using the :DBSMG= modifiers),
    you are supposed to include the delimiters that set off the component:
    that is, you say "$(x:S=.suffix)", including the ".".  But with
    grist it was inconsistent between setting and getting: setting grist
    required no <>'s, while getting grist included them.   Getting grist
    continues to return the <>'s, but now setting grist can either
    include them (the new way) or not (the old way).  (2.1.16)
d80 2
a81 2
    New variable modifiers :U and :L upshift and downshift (respectively)
    the value of a variable.
d83 2
a84 2
    New predefined variables $(OSVER) and $(OSPLAT) are used to distinguish
    (when jam can) among operating system versions and hardware platforms.
a85 3
    New variable modifier :P reliably gets to parent directory of either
    a file or directory.  Previously, :D was used, but on VMS :D of a 
    directory name is just the directory name.
d87 1
a87 4
    VMS support is much, much better now.  The path name manipulation
    routines (in pathvms.c) were more or less rewritten, and they now
    handle the vagaries of combining directory and file names
    properly.
d89 107
a195 8
    The 'include' bug has finally been fixed, so that include statements
    take effect exactly when they are executed, rather than after the
    current statement block.  This also corrects the problem where an
    'include' within an 'if' block would wind up including the file
    one token after the 'if' block's closing brace.  Credit goes to
    Thomas Woods for suggesting that the parse tree generation and
    parse tree execution be paired in their own loop, rather than having
    the parser execute the tree directly.  (2.1.21)
@


1.69
log
@@
text
@d142 9
@


1.68
log
@@
text
@d61 2
a62 1
    Concurrent process support is somewhat enabled for NT.
@


1.67
log
@@
text
@d35 2
a36 2
    The NT command executor now handles multiple line actions, by sending
    the actions one line at time to the DOS shell.
d136 5
@


1.66
log
@@
text
@d132 4
@


1.65
log
@@
text
@d129 3
@


1.64
log
@@
text
@d126 3
@


1.63
log
@@
text
@d117 9
@


1.62
log
@@
text
@d102 6
d113 4
@


1.61
log
@@
text
@d102 5
@


1.60
log
@@
text
@d97 5
@


1.59
log
@@
text
@a52 15
    The debugging levels were moved a little: -d3 now includes binding
    and timestamp information for all targets, so that that single level
    reports the work of make0().  -d4 now just dumps memory statistics.
    The whole story is:

	-d1 - trace actions
	-d2 - dump actions
	-d3 - trace dependency analysis
	-d4 - show memory stats
	-d5 - trace jamfile compilation
	-d6 - show directory/header file/archive scans
	-d7 - show variable settings
	-d8 - show variable fetches
	-d9 - show variable manipulation, scanner tokens

d75 22
@


1.58
log
@@
text
@d87 3
@


1.57
log
@@
text
@d78 9
@


1.56
log
@@
text
@d76 2
@


1.55
log
@@
text
@d71 5
@


1.54
log
@@
text
@d68 3
@


1.53
log
@@
text
@d53 15
@


1.52
log
@@
text
@d49 4
@


1.51
log
@@
text
@d47 2
@


1.50
log
@@
text
@d42 5
@


1.49
log
@@
text
@d38 4
@


1.48
log
@@
text
@d35 3
@


1.47
log
@@
text
@d31 4
@


1.46
log
@@
text
@d25 6
@


1.45
log
@@
text
@d22 3
@


1.44
log
@@
text
@d19 3
@


1.43
log
@@
text
@d16 3
@


1.42
log
@@
text
@d12 4
@


1.41
log
@@
text
@d9 3
@


1.40
log
@@
text
@d6 3
@


1.39
log
@@
text
@d1 5
@


1.38
log
@@
text
@d13 1
a13 1
	FreeBSD is now supported.
@


1.37
log
@@
text
@d1 1
a1 1
Release notes for Jamming 2.1.
d4 2
a5 2
	Jammin 2.1
	January 1, 1996
a8 4
	N.B. As of this release, this package is named "Jamming" to
	avoid conflict with JYACC's JAM product.  The command name
	and manual pages remain unchanged.

d80 2
a81 2
	A new variable, $(JAM), joins the small list of built-in variables.
	It it set to the release of jam, currently "2.1".
@


1.36
log
@@
text
@d106 9
@


1.35
log
@@
text
@d78 2
@


1.34
log
@@
text
@d1 1
a1 1
Release notes for Jammin 2.1.
d9 1
a9 1
	N.B. As of this release, this package is named "Jammin" to
d56 1
a56 5
4.  Changes from Jam 1.0 to Jam 2.0

4.1.  Documentation changes

4.2.  Jambase Changes (see Jamfile.5)
d76 1
a76 1
4.3.  Jam changes (see jam.1)
@


1.33
log
@@
text
@d1 1
a1 1
Release notes for Jam 2.1.
d3 5
a7 3
Nasty little bug in compile.c w.r.t setting variables fixed: if the first
two variable names (or target names for on target) were the same, the 
variable value got trashed.
d9 65
a73 29
Failed actions now delete the targets.
InstallFIle an alias for InstallLib.
NOUPDATE immune to -a (anyhow) flag, so jam -a works on MkDir.
wording for 'actions existing' in jam.1
linux in jam.h
Semicolon typo in filent.c.
FreeBSD in jam.h.
Install -c in Jambase - FreeBSD does move without -c.
&& for File in Jambase.
Clean for File rule in Jambase.
'first' is dependency of all pseudo-targets
allow for OS to be Windows_NT
NOSCANLIB and other BCC changes for NT (lauraw).
NEXT support from karthy@@dannug.dk (Karsten Thygesen
DECC support. zinser@@axp614.gsi.de Martin P.J. Zinser
AIX now uses fork instead of vfork
SPLITPATH now set up for UNIX (:), NT (;), VMS (,)
SubDir now computes TOP.
filent.c no longer skips first dir entry.
Support for Mstools.
Support for string table archives under msc.
C++ support in msc.
warning for NT if root variables not set.
Jamgram.h included after scan.h so YYSTYPE is defined on Linux.
SCO ("M_XENIX") now supported.
Solaris install doesn't take a -c.
Solaris AR now hardwired into /usr/ccs/bin/ar
$(JAM) variable now set to 2.0.
No longer says "-1 targets" after interrupt.
d75 34
@


1.32
log
@@
text
@d35 1
@


1.31
log
@@
text
@d34 1
@


1.30
log
@@
text
@d32 2
@


1.29
log
@@
text
@d31 1
@


1.28
log
@@
text
@d3 4
@


1.27
log
@@
text
@d3 1
@


1.26
log
@@
text
@d3 1
@


1.25
log
@@
text
@d3 1
@


1.24
log
@@
text
@d3 1
@


1.23
log
@@
text
@d3 1
@


1.22
log
@@
text
@d21 1
@


1.21
log
@@
text
@d18 3
@


1.20
log
@@
text
@d16 2
@


1.19
log
@@
text
@d15 1
@


1.18
log
@@
text
@d14 1
@


1.17
log
@@
text
@d13 1
@


1.16
log
@@
text
@d12 1
@


1.15
log
@@
text
@d11 1
@


1.14
log
@@
text
@d9 2
@


1.13
log
@@
text
@d8 1
@


1.12
log
@@
text
@d6 2
@


1.11
log
@@
text
@d1 6
@


1.10
log
@@
text
@d5 1
a5 1
	March 1, 1994
d7 1
a7 1
	PATCHLEVEL 4
@


1.9
log
@@
text
@d111 1
a111 1
	New LAURA rule which say target depends only on the update
@


1.8
log
@@
text
@d6 2
a7 42
	VERSION 2
	PATCHLEVEL 3

2.  Limitations/Known Bugs

	The new Windows/NT support has only been marginally tested.  It
	is dependent on certain variables being set depending on which
	compiler you are using.  You'll need to look in the file
	Jambase and see what variables are expected to be set.

	The VMS support has been tested, courtesy of the DEC guest
	machine, but has not been hammered fully in release 2.0.  It
	was used quite a bit in Jam 1.0.

	Jam clean when there is nothing to clean claims it is updating
	a target.

	Because the include statement works by pushing a new file in
	the input stream of the scanner rather than recursively
	invoking the parser on the new file, multiple include
	statements in a rule's procedure causes the files to be
	included in reverse order.

	If the include statement appears inside an if block, the
	parser's attempt to find the else will cause the text of the
	included file to appear after the first token following the
	statement block.  This is rarely what is intended.

	In a rule's actions, only $(<) and $(>) refer to the bound file
	names:  all other variable references get the unbound names.
	This is a pain for $(NEEDLIBS), because it means that library
	path can't be bound using $(SEARCH) and $(LOCATE).

	With the -j flag, errors from failed commands can get
	staggeringly mixed up.  Also, because targets tend to get built
	in a quickest-first ordering, dependency information must be
	quite exact.  Finally, beware of parallelizing commands that
	drop fixed-named files into the current directory, like yacc(1)
	does.

	A poorly set $(JAMSHELL) is likely to result in silent
	failure.
d9 1
a9 1
3.  Porting
d19 1
a19 1
4.  Compatibility
d27 1
a27 1
5.  Changes from Jam 1.0 to Jam 2.0
d29 1
a29 1
5.1.  Documentation changes
d37 1
a37 1
5.2.  Jambase Changes (see Jamfile.5)
d39 1
a39 1
5.2.1.  New rules:
d54 1
a54 1
5.2.2.  Old rules:
d78 1
a78 1
5.2.3.  Misc:
d89 1
a89 1
5.3.  Jam changes (see jam.1)
d91 1
a91 1
5.3.1.   Flags:
d105 1
a105 1
5.3.2.  Rules:
d119 1
a119 1
5.3.3.  Variables:
d121 2
a122 2
	New special variable JAMSHELL: path and argv template for
	command execution shell.
d134 1
a134 1
5.3.4.  Misc:
d143 1
a143 1
5.3.5.  Bug fixes:
d197 40
@


1.7
log
@@
text
@d9 1
a9 1
2.  Limitations/Bugs
d11 8
a18 1
	The new Windows/NT support has only been marginally tested.
d23 26
d52 1
a52 2
	and Laura Wingerd.  You'll need to look in the file Jambase and
	see what variables are expected to be set.
d112 2
a113 2
	Stupid yyacc support moved out of Jambase and into Jamfile, as
	jam is its only likely user.
@


1.6
log
@@
text
@d188 4
@


1.5
log
@@
text
@d13 3
@


1.4
log
@@
text
@d4 4
a7 4
	    Jam 2.0 
	    March 1, 1994
	    VERSION 2
	    PATCHLEVEL 3
d11 1
a11 1
	    The new Windows/NT support has only been marginally tested.
d15 3
a17 3
	    Windows/NT is now (crudely) supported, courtesy of Brett
	    Taylor and Laura Wingerd.  You'll need to look in the file
	    Jambase and see what variables are expected to be set.
d19 1
a19 1
	    COHERENT/386 is now supported, courtesy of Fred Smith.
d21 2
a22 2
	    Solaris archive string table for long archive names is now
	    supported, thanks to Mike Matrigali.
d26 2
a27 2
	    Jam 2.0 syntax is a superset of Jam 1.0 syntax, and thus it
	    can interpret a Jam 1.0 Jambase.
d29 2
a30 2
	    The Jam 2.0 Jambase is a superset of the Jam 1.0 Jambase,
	    and thus it can include a Jamfile written for Jam 1.0.
d36 3
a38 3
	    New Jamfile.5 manual page, with lots of examples and easy
	    reading.  It replaces both the old "Examples" file as well
	    as the old Jambase.5 manual page.
d40 1
a40 1
	    jam.1 edited by Stephen W. Liddle and Diane Holt.
d46 2
a47 2
	    There are new rules to make handling subdirectories
	    easier:  SubDir, SubInclude, SubDirCcFlags, SubDirHdrs.
d49 2
a50 2
	    There are new rules to handle file-specific CCFLAGS and
	    HDRS:  ObjectCcFlags and ObjectHdrs.
d52 1
a52 1
	    Misc new rules: HardLink, InstallShell, MkDir.
d54 2
a55 2
	    New rule "clean" that deletes exactly what jam has built,
	    and "uninstall" that deletes exactly what was installed.
d57 1
a57 1
	    New rules for handling suffixes .s, .f, .cc, .cpp, .C.
d61 5
a65 6
	    The InstallBin, Lib, Man, and the new Shell rules now take
	    the destination directory as the target and the files to be
	    copied as sources.  These rules formerly took the files to
	    be copied as targets, and used built-in destination
	    directories of $(BINDIR), $(LIBDIR), $(MANDIR), and
	    $(BINDIR).
d67 2
a68 3
	    The InstallBin, Lib, Man, and Shell rules use the
	    install(1) program now, instead of doing their own
	    copying.
d70 2
a71 2
	    The Cc rule now uses -o when possible, rather than moving
	    the result.  Some platforms (Pyramid?) have a broken -o.
d73 3
a75 3
	    Jambase rules taking libraries, objects, and executables
	    now all ignore the suffixes provided and use the one
	    defined in the Jambase for the platform.
d77 2
a78 2
	    Stupid yyacc support moved out of Jambase and into Jamfile,
	    as jam is its only likely user.
d80 2
a81 2
	    Jambase now purturbs library sources with a "grist" of
	    SOURCE_GRIST.
d85 2
a86 2
	    The names of the default rules defined in Jambase have been
	    lowercased and un-abbreviated, to be more imake(1) like.
d88 2
a89 2
	    The Jambase has been reorganized and sorted, with VMS and
	    NT support moved in from their own files.
d91 2
a92 2
	    The Jambase has been relocated on UNIX from /usr/local/lib/jam
	    to /usr/local/lib.
d98 1
a98 1
	    New -a (anyhow) flag: means build everything.
d100 1
a100 1
	    New -j<x> flag: run jobs in parallel.
d102 2
a103 2
	    Old -t now rebuilds the touched target, rather that just
	    the target's parents.
d105 2
a106 2
	    -n now implies -d2, so that you see what's happening.  The
	    debug level can be subsequently overridden.
d108 1
a108 1
	    New -v to dump version.
d112 1
a112 1
	    New ALWAYS rule behaves like -t: always builds target.
d114 1
a114 1
	    New EXIT rule makes it possible to raise a fatal error.
d116 2
a117 2
	    New LAURA rule which say target depends only on the update
	    times of the leaf sources.
d119 1
a119 2
	    New NOUPDATE rule says built targets only if they don't
	    exist.
d121 2
a122 3
	    NOTIME has been renamed NOTFILE, to more accurately reflect
	    its meaning (it says a target is not to be bound to a
	    file).
d126 2
a127 2
	    New special variable JAMSHELL: path and argv template for
	    command execution shell.
d129 3
a131 3
	    Variables, both normal and target-specific, can have their
	    value appended with the syntax "var += value" or "var on
	    target += value".
d133 1
a133 1
	    "?=" is now synonymous with "default =".
d135 3
a137 3
	    Imported enviroment variable values are now split at blanks
	    (:'s if the variable name ends in PATH), so that they
	    become proper list values.
d141 3
a143 3
	    Files to be sourced with "include" are now bound first, so
	    $(SEARCH) and $(LOCATE) affect them.  They still can't be
	    built, though.
d145 2
a146 2
	    New modifier on "actions": "existing" causes $(>) to expand
	    only those files that currently exist.
d150 6
a155 6
	    When scanning tokens known to be argument lists (such as
	    the arguments to rule invocations and variable assignment),
	    the parser now tells the scanner to ignore alphabetic
	    keywords, as all such lists terminate with punctuation
	    keywords (like : or ;).  This way, alphabetic keywords
	    don't need to be quoted when they appear as arguments.
d157 3
a159 4
	    The scanner has been fixed to handle oversized tokens,
	    unterminated quotes, unterminated action blocks, and tokens
	    abutting EOF (i.e. a token with no white space before
	    EOF).
d161 5
a165 5
	    The progress report "...on xth target..." used to count all
	    targets, rather than just those with updating actions.
	    Since the original pronouncement of targets to be udpated
	    included only those with updating actions, the progress
	    report has been changed to match.
d167 5
a171 6
	    'If' conditionals now must be single arguments.
	    Previously, they could be zero or more arguments, which
	    didn't make much sense, and made things like 'foo == bar'
	    true.  The comparison operator is '=', and '==' just looked
	    like the second of three arguments in the unary "non-empty
	    argument list" conditional.
d173 4
a176 4
	    Header files indirectly including themselves were
	    mistakenly reported as being dependent on themselves.
	    Recursing through header file dependencies is now done
	    after determining the fate of the target.
d178 3
a180 3
	    The variable expansion support was expanding $(X)$(UNDEF)
	    as if it were $(X).  It now expands to an empty list, like
	    it should.
d182 2
a183 2
	    The UNIX version of file_build() didn't handle
	    "dir/.suffix" right.  Now it does.
d185 2
a186 3
	    $(>) and $(<) wouldn't expand in action blocks if the
	    targets were marked with NOTIME.  Now they expand
	    properly.
d188 1
a188 1
	    Malloc() return values are now checked.
d190 2
a191 2
	    The variable expansion routine var_expand() is now a little
	    faster, by taking a few often needed shortcuts.
d193 3
a195 3
	    The VMS version of file_build() used the wrong length when
	    re-rooting file names that already had directory
	    compoents.  This was fixed.
d197 1
a197 1
	    Various tracing adjustments were made.
@


1.3
log
@@
text
@d89 1
d93 3
@


1.2
log
@@
text
@d106 2
@


1.1
log
@@
text
@d1 1
a1 1
Release notes for Jam 2.0 BETA.
d4 1
a4 1
	    Jam 2.0 BETA
@
